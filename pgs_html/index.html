<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>back_front_banco</title>
    <link rel="stylesheet" href="estilos/all.css">
    <link rel="stylesheet" href="estilos/generic.css">
</head>

<body>
    <h1>tela de login <br> com <br> banco de dados</h1>
    <main>
        <form id="registerForm" action="../js/scripts.js" autocomplete="on" method="post">
            <section>
                <div class="inp">
                    <label for="iemail">EMAIL*</label>
                    <input type="email" name="email" id="iemail" class="input" autocomplete="email" required
                        placeholder="email">
                </div>
                <div class="inp">
                    <label for="isenha">SENHA*</label>
                    <input type="password" name="senha" id="isenha" class="input" autocomplete="new-password" required
                        placeholder="senha">
                    <span>
                        <div id="botao" onclick="clique()">
                        <img src="../imagens/visivel.png" alt="senha" id="olho">
                        </div>
                    </span>
                </div>
            </section>
            <div class="sub">
                <input type="submit" value="cadastrar" id="mit">
                <a href="login.html" id="lk">ja tenho conta</a>
            </div>
        </form>
    </main>
    <footer>
        <p>
            site criado por mim &copy;
        </p>
    </footer>

    <script src="../js/scripts.js"></script>
    <script>
        document.getElementById('registerForm').onsubmit = async (e) => {
          e.preventDefault();
          const email = document.getElementById('email').value;
          const senha = document.getElementById('senha').value;
        
          const response = await fetch('/register', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email, senha }),
          });
        
          const data = await response.json();
          console.log(data);
          alert('Usu√°rio registrado com sucesso!');
        };
        </script>        
</body>

</html>